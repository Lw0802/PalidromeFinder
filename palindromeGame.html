<!DOCTYPE html>
<html>
<head>
    <title>Palindrome Guessing Game</title>
    <link rel="stylesheet" href="palindromGame.css">
</head>
<body>
<h1>Palindrome Guessing Game</h1>
<p>You have 5 lives to try and guess any 10 palindromes</p>
<p>A palindrome is a word, phrase, number, or other sequence of characters that reads the same forward and backward e.g. Racecar</p>
<p>You have guessed <span id="guessed-count">0</span> Palindromes, with <span id="remaining-lives">5</span> lives Remaining</p>
<h2>Enter your word below</h2>
<form>
    <input type="text" id="word" placeholder="Enter your word"><br><br>
    <button onclick="playGame(event)">Submit</button>
</form>
<p id="result"></p>
<p id="remaining-words"></p>
<script>
    var totalLives = 5;
    var guessedPalindromes = [];

    function playGame(event) {
        event.preventDefault(); // prevent form submission and page refresh

        var wordInput = document.getElementById("word");
        var inputWord = wordInput.value;
        var isPalindrome = isPalindromeString(inputWord);

        var resultElement = document.getElementById("result");
        var remainingWordsElement = document.getElementById("remaining-words");

        if (isPalindrome) {
            if (guessedPalindromes.indexOf(inputWord) === -1) {
                guessedPalindromes.push(inputWord);

                resultElement.textContent = "Correct! It's a palindrome.";
                updateRemainingWords(remainingWordsElement);
                updateGuessedCount();

                // Check if the user has guessed all possible palindromes
                if (guessedPalindromes.length === 10) {
                    resultElement.textContent = "Congratulations! You've guessed 10 palindromes.";
                    alert("Congratulations! You've guessed 10 palindromes.");
                }
            } else {
                resultElement.textContent = "You've already guessed this palindrome.";
            }
        } else {
            resultElement.textContent = "Sorry, that's not a palindrome.";
            totalLives--;

            // Update the display of remaining lives
            updateRemainingLives();

            if (totalLives === 0) {
                resultElement.textContent = "Game Over. You've run out of lives.";
                alert("Game Over. You've run out of lives.");
            }
        }

        wordInput.value = "";
    }

    // Update the display of remaining lives
    function updateRemainingLives() {
        document.getElementById("remaining-lives").textContent = totalLives;
    }

    // Update the display of guessed palindrome count
    function updateGuessedCount() {
        document.getElementById("guessed-count").textContent = guessedPalindromes.length;
    }

    function isPalindromeString(str) {
        var cleanStr = str.replace(/[^A-Za-z0-9]/g, '').toLowerCase();
        return cleanStr === cleanStr.split('').reverse().join('');
    }

    function updateRemainingWords(element) {
        element.textContent = "Guessed words: " + guessedPalindromes.join(", ");
    }

    // Initial display of remaining lives
    updateRemainingLives();
</script>
</body>
</html>
